<!doctype html>
<html>
  <head>
    <title>Champion Synergies</title>
    <!-- Viewport and theme color -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#b0b0b0">
    <!-- Icons, description and sharing information -->
    <link rel="icon" sizes="192x192" href="images/icon.png">
    <link rel="image_src" href="images/icon.png" / >
    <meta name="description" content="A tool for analyzing champion synergies in Marvel/Kabam's Contest of Champions." />
    <meta property="og:title" content="Champions - Synergy Tool" />
    <meta property="og:description" content="A tool for analyzing champion synergies in Marvel/Kabam's Contest of Champions." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="images/icon.png" />
    <meta property="og:url" content="http://tiny.cc/synergies" />
    <meta property="og:site_name" content="Champion Synergies" />
    <!-- all external stylesheets and scripts -->
    <link rel="stylesheet" href="css/fonts/fonts.css" media="all">
    <link rel="stylesheet" href="css/jquery.mobile-1.4.5.css" media="all">
    <link rel="stylesheet" href="css/jquery.mobile-theme-classic.css" media="all">
    <link rel="stylesheet" href="css/coc-synergies.css" media="all">
    <script type="text/javascript"  src="scripts/lib/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="scripts/lib/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript"  src="scripts/lib/underscore-min.js"></script>
    <script type="text/javascript"  src="scripts/lib/backbone-min.js"></script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; 
        ga.async = true; ga.src = 'http://www.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
    <div id="popup-share" 
      data-role="popup" 
      data-tolerance="32"
      data-theme="c" 
      data-overlay-theme="a">
      <ul data-role="listview" data-inset="true">
        <li data-role="list-divider">Share to...</li>
        <li>
          <a id="share-facebook" class="share-button" href="http://www.facebook.com/sharer/sharer.php?u=http://tiny.cc/synergies" target="_blank">
            <img src="images/share/facebook_32.png" class="ui-li-icon ui-corner-none">
            Facebook
          </a>
        </li>
        <li>
          <a id="share-twitter" class="share-button" href="https://twitter.com/share?url=http://tiny.cc/synergies" target="_blank">
            <img src="images/share/twitter_32.png" class="ui-li-icon ui-corner-none">
            Twitter
          </a>
        </li>
        <li>
          <a id="share-googleplus" class="share-button" href="https://plus.google.com/share?url=http://tiny.cc/synergies" target="_blank">
            <img src="images/share/googleplus_32.png" class="ui-li-icon ui-corner-none">
            Google+
          </a>
        </li>
      </ul>
    </div>
    <div class="page" data-role="page">
      <div class="header">
        <div class="buttons">
          <a class="button stars" href="?stars=1" stars="1" data-ajax="false"><span class="narrow">1 ★</span><span class="wide">★</span></a>
          <a class="button stars" href="?stars=2" stars="2" data-ajax="false"><span class="narrow">2 ★</span><span class="wide">★ ★</span></a>
          <a class="button stars" href="?stars=3" stars="3" data-ajax="false"><span class="narrow">3 ★</span><span class="wide">★ ★ ★</span></a>
          <a class="button stars" href="?stars=4" stars="4" data-ajax="false"><span class="narrow">4 ★</span><span class="wide">★ ★ ★ ★</span></a>
        </div>
        <div class="button legend"><span class="on">-</span><span class="off">+</span></div>
        <a class="button share" href="#popup-share"
          data-rel="popup"
          data-transition="fade">
          <span>Share</span>
        </a>
      </div>
      <canvas></canvas>
      <div id="legend"></div>
    </div>
    <!-- Model definitions -->
    <script type="text/javascript" src="scripts/model/champion.js"></script>
    <script type="text/javascript" src="scripts/model/effect.js"></script>
    <script type="text/javascript" src="scripts/model/synergy.js"></script>
    <script type="text/javascript" src="scripts/model/type.js"></script>
    <!-- Collections data -->
    <script type="text/javascript" src="scripts/data/champions.js"></script>
    <script type="text/javascript" src="scripts/data/effects.js"></script>
    <script type="text/javascript" src="scripts/data/synergies.js"></script>
    <script type="text/javascript" src="scripts/data/types.js"></script>
    <!-- Springy canvas rendering -->
    <script type="text/javascript" src="scripts/lib/springy.js"></script>
    <script type="text/javascript" src="scripts/lib/springyui.js"></script>
    <!-- App logic -->
    <script type="text/javascript" src="scripts/coc-tracking.js"></script>
    <script type="text/javascript" src="scripts/coc-synergies.js"></script>
    <!-- Init -->
    <script type="text/javascript">
      $('.page').on('pageshow', function(){
        var stars = Math.min(4, Math.max(1, parseInt(location.search.substr(7), 10))) || 2;
        if(location.search === "?stars=" + stars)
          CoC.synergies.initialize(stars);
        else
          location.search = "?stars=" + stars;
      });
      $(window).on('resize', CoC.synergies.canvasResize);
      $(document).on('ready', CoC.synergies.canvasResize);
      CoC.synergies.canvasResize();
    </script>
  </body>
</html>