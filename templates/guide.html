<img class="background" src="<%= champion.image() %>">
<div class="container">
  <div data-role="collapsible" data-disabled="true" data-collapsed="false" data-expanded-icon="<%= champion.get('typeId') %>">
    <h2 class="ui-collapsible-heading-toggle">
      <%- champion.get('name') %>
    </h2>
    <% if(data.grades){ %>
      <div class="selectable bold">
        Grade: <%= gradeSpan(data.grades.normal) %>
      </div>
      <div class="selectable bold">
        Awakened: <%= gradeSpan(data.grades.awakened) %>
      </div>
    <% } %>
    <% if (data.description){ %>
      <p class="selectable"><%- data.description %></p>
    <% } %>
    <% if (data.unavailable){ %>
      <p class="bold">
        Coming Soon!
      </p>
    <% } %>
  </div>
  <div class="left">
    <% if(data.gameplay){ %>
      <div data-role="collapsible" data-collapsed="false">
        <h4>
          Gameplay <%= ratingSpan(data.gameplay.rating) %>           
        </h4>
        <% if (data.gameplay.style){ %>
          <div class="selectable bold">
            <%- data.gameplay.style %>
          </div>
        <% } %>
        <% if (data.gameplay.description){ %>
          <p class="selectable"><%= data.gameplay.description %></p>
        <% } %>
        <% if (data.gameplay.strategy){ %>
          <p class="selectable">
            <b>Strategy:</b> <%= data.gameplay.strategy %>
          </p>
        <% } %>
        <% if (data.gameplay.note){ %>
          <p class="selectable">
            <b>Note:</b> <%= data.gameplay.note %>
          </p>
        <% } %>
      </div>
    <% } %>
    <% if(data.signature){ %>
      <div data-role="collapsible" data-collapsed="false" data-mini="true">
        <h4>
          Signature Ability <%= ratingSpan(data.signature.rating) %>           
        </h4>
        <div class="selectable">
          <b><%- data.signature.name %></b>
        </div>
        <% if (data.signature.description){ %>
          <p class="selectable"><%= data.signature.description %></p>
        <% } %>
        <% if (data.signature.note){ %>
          <p class="selectable">
            <b>Note:</b> <%= data.signature.note %>
          </p>
        <% } %>
      </div>
    <% } %>
    <% if(data.heavy){ %>
      <div data-role="collapsible" data-collapsed="false">
        <h4>
          Heavy Attack <%= ratingSpan(data.heavy.rating) %>           
        </h4>
        <% if (data.heavy.description){ %>
          <p class="selectable"><%= data.heavy.description %></p>
        <% } %>
        <% if (data.heavy.note){ %>
          <p class="selectable">
            <b>Note:</b> <%= data.heavy.note %>
          </p>
        <% } %>
      </div>
    <% } %>
  </div>
  <div class="right">
    <% if(data.specials){ %>
      <% for(var number in data.specials){ 
        var special = data.specials[number] %>
        <div data-role="collapsible" data-collapsed="false">
          <h4>
            Special <%- number %> <%= ratingSpan(special.rating) %>            
          </h4>
          <% if (special.description){ %>
            <p class="selectable"><%= special.description %></p>
          <% } %>
          <% if (special.abilities){ %>
            <div class="selectable">
              <b>Abilities:</b> <%= joinSpans(special.abilities, abilitySpan) %>
            </div>
          <% } %>
          <% if (special.damagetypes){ %>
            <div class="selectable">
              <b>Damage Type:</b> <%= joinSpans(special.damagetypes, damageTypeSpan) %>
            </div>
          <% } %>
          <% if (special.ranges){ %>
            <div class="selectable">
              <b>Range:</b> <%= joinSpans(special.ranges, rangeSpan) %>
            </div>
          <% } %>
          <% if (special.note){ %>
            <p class="selectable">
              <b>Note:</b> <%= special.note %>
            </p>
          <% } %>
        </div>
      <% }%>
    <% } %>
  </div>
  <div style="clear:both;"></div>
  <div class="left">
    <div data-role="collapsible" data-collapsed="false">
      <h4>
        Synergies
      </h4>
      <% if(synergiesFrom(uid).size() > 0){ %>
        <% synergiesFrom(uid).each(function(synergy){ %>
          <div class="synergy">
            <img class="champion-mini <%= synergy.to().get('typeId') %>" src="<%= synergy.to().portrait() %>" />
            <img class="effect" src="<%= synergy.effect().image() %>" />
            <span class="champion-title bold" uid="<%= synergy.get('toId') %>"><%- synergy.from().get('stars') %>★ <%- synergy.to().get('name') %></span>
            <span class="effect" uid="<%= synergy.get('effectId') %>"><%- synergy.effect().get('name') %></span>
          </div>
        <% }) %>
      <% } else { %>
        <p>
          <i>None</i>
        </p>
      <% } %>
    </div>
  </div>
  <div class="right">
    <div data-role="collapsible" data-collapsed="false">
      <h4>
        External Synergies
      </h4>
      <% if(synergiesTo(uid).size() > 0){ %>
        <% synergiesTo(uid).each(function(synergy){ %>
          <div class="synergy">
            <img class="champion-mini <%= synergy.from().get('typeId') %>" src="<%= synergy.from().portrait() %>" />
            <img class="effect" src="<%= synergy.effect().image() %>" />
            <span class="champion-title bold" uid="<%= synergy.get('fromId') %>"><%- synergy.from().get('stars') %>★ <%- synergy.from().get('name') %></span>
            <span class="effect" uid="<%= synergy.get('effectId') %>"><%- synergy.effect().get('name') %></span>
          </div>
        <% }) %>
      <% } else { %>
        <p>
          <i>None</i>
        </p>
      <% } %>
    </div>
  </div>
  <div style="clear:both;"></div>
  <div class="left">
    <% if(data.abilities){ %>
      <div data-role="collapsible" data-collapsed="false">
        <h4>
          Abilities          
        </h4>
        <% _(data.abilities).each(function(ability){ %>
          <p class="selectable"><%= definition(ability, abilitySpan) %></p>
        <% }) %>
      </div>
    <% } %>
  </div>
  <div class="right">
    <div data-role="collapsible" data-collapsed="false">
      <h4>
        Availablity          
      </h4>
      <% if(crystals(uid).length === 0){ %>
        <div class="crystal">
          <img src="images/crystals/hologram.png" />
          <b><i class="selectable">None</i></b>
        </div>
      <% } else { %>
        <% _(crystals(uid)).each(function(data){ %>
          <div class="crystal">
            <img src="<%= data.crystal.image() %>" />
            <b class="selectable"><%- data.crystal.get('name') %> Crystal</b>:
            <%= crystalStarsSpan(data) %>
          
          </div>
        <% }) %>
      <% } %>
    </div>
  </div>
  <div style="clear:both;"></div>
</div>
